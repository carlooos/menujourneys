<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Menu Journeys</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link href="css/animate.min.css" rel="stylesheet">
	<link href="css/animate.css" rel="stylesheet" />
	<link href="css/style.css" rel="stylesheet">

  <!-- Highchart -->
  <link rel="stylesheet" href="css/main_highcharts.css">
  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/highcharts.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-3">
					<div class="site-logo">
						<a href="index.html" class="brand">MENU JOURNEYS</a>
					</div>
				</div>

				<div class="col-lg-9 col-md-9">
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
							<i class="fa fa-bars"></i>
						</button>
					</div>
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="menu">
						<ul class="nav navbar-nav navbar-right">
							  <li><a href="#home">Home</a></li>
							  <li><a href="#about">About</a></li>
							  <li><a href="#archive">The Archive</a></li>
							  <li><a href="#clustering">Clustering</a></li>
							  <li><a href="#dishexplorer">Dish Explorer</a></li>
						</ul>
					</div>
					<!-- /.Navbar-collapse -->
				</div>
			</div>
		</div>
	</nav>


   <div id="home">
       <div class="container" id="home-container">
          <div class="center" id="home-text">
            <br>
            <h2>Menu Journeys</h2>
           <p>
           Audrey Leung<br>
           Brian Carlo<br>
           Carlos Lasa<br>
           Stephanie Snipes<br>
          </p>
    		</div>

      </div>
   </div>

	<section id="about">
		<div class="container">
			<div class="center">
				<div class="col-md-6 col-md-offset-3">
					<h2>About The Project</h2>
					<hr>
					<p class="lead">What's On The Menu:<br>Exploring the menus of the New York Public Library</p>
				</div>
			</div>
		</div>

      <div class="container">
         <div class="row">
            <div class="col-sm-5">
               <a href="http://menus.nypl.org/"><img src="images/nypl.png" class="img-responsive" /></a>
               <p><em>The homepage of the New York Public Library Menu Archive.</em></p>

            </div>

            <div class="col-sm-7">

               <p>With approximately 45,000 menus dating from the 1840s to the present, The <a href="http://menus.nypl.org/">New York Public Libraryâ€™s restaurant menu collection</a> is one of the largest in the world, used by historians, chefs, novelists and everyday food enthusiasts. The menus contain specific information about dishes, prices, the organization of meals, and from there we can extrapolate the stories these things tell us about the history of food and culture.</p>

               <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
            	non cupidatat skateboard dolor brunch.</p>

               <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
            	non cupidatat skateboard dolor brunch.</p>

            </div>
         </div><!--/.row-->
      </div><!--/.container-->
    </section><!--/#about-->

	<section id="archive">

        <div class="container">
           <div class="row">
 				<div class="center">
 					<div class="col-md-6 col-md-offset-3">
 						<h2>WHAT'S IN THE ARCHIVE</h2>
 						<hr>
 						<p class="lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut</p>
 					</div>
 				</div>

 				<div class="col-md-4 wow fadeInLeft">
             <img src="images/menu.png" alt="">
 					<h3><span class="stat">17,544</span><br>Menus</h3>
 					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
 					non cupidatat skateboard dolor brunch.</p>
 				</div>

 				<div class="col-md-4 wow fadeInUp">
 					<img src="images/dish.png" alt="">
    					<h3><span class="stat">1,331,458</span><br>Dishes</h3>
 					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
 					non cupidatat skateboard dolor brunch.</p>
 				</div>

 				<div class="col-md-4 wow fadeInRight">
 					<img src="images/years.png" alt="">
               <h3><span class="stat">157</span><br>Years</h3>
               <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
 					non cupidatat skateboard dolor brunch.</p>
 				</div>
 			</div>
      <br><br>

      <div id="container2"></div>
      <title>NYPL Dish and Menu Collection from 1851-2008</title>

      <!-- script from highchart graph -->
      <script type="text/javascript">

      //set up initial options
      //$(function () {
      var options = {//$('#container').highcharts({
              chart: {
                  renderTo: "container2",
                  zoomType: 'x',
                  type: "column",
                  style: {
                      // fontFamily: 'Montserrat', sans-serif;
                  }
              },
              title: {
                  text: 'NYPL Dish and Menu Collection from 1851-2008'
              },
              subtitle: {
                  text: document.ontouchstart === undefined ?
                          'Click and drag in the plot area to zoom in' :
                          'Pinch the chart to zoom in'
              },
              xAxis: {
                  categories: [],
                  type: 'datetime',
                  labels: {
                      rotation: -90,
                      step: 5,
                      style: {
                          // fontFamily: 'Montserrat', sans-serif;
                          fontSize: '11px'
                      }
                  }
              },
              yAxis: [{ // Primary yAxis
                  labels: {
                      style: {
                          color: Highcharts.getOptions().colors[1]
                      },
                      align: 'left'
                  },
                  title: {
                      text: 'Dishes',
                      style: {
                          color: Highcharts.getOptions().colors[1]
                      }
                  }
              }, { // Secondary yAxis
                  title: {
                      text: 'Menus',
                      style: {
                          color: Highcharts.getOptions().colors[0]
                      }
                  },
                  labels: {
                      style: {
                          color: Highcharts.getOptions().colors[0]
                      },
                      align: 'right',
                      x: -3,
                      y: 16,
                      format: '{value:.,0f}'
                  },
                  opposite: true
              }],
              // tooltip: {
              //     shared: true
              // },
              legend: {
                  enabled: false
              },

              series: [],

              plotOptions: {
                  column: {
                      pointPadding: 0.2,
                      borderWidth: 0
                  }
              },
      }

      //ajax call to data from the csv file
      $.get("data/menu_dish_count.csv", function (data) {

        // split the csv by line ("\n")
        //console.log(data)
        var lines = data.split('\r');
        //console.log(lines)

        // "menu_dish_count" is an empty array that will be populated by the label menu or dish
        // "menu_dish_amount" is an array containing 2 empty arrays, each of will be populated by count of menus and dishes per year 
        var menu_dish_label = [];
        var menu_dish_count = [[], []];
        
        // loop through each line using $.each
        $.each(lines, function(lineNo, line) {

          // turn each line into an array that contains 3 items: 
          // year, menu value, dish value
          // use the .split() method
          var items = line.split(",");
          //console.log(items)

          // use an if statement to differentiate between header & content
          // if it's the header,
          if (lineNo == 0) {
            // set the menu_dish_label variable as the appropriate values from the header line
            menu_dish_label = items.slice(1,3);
            //console.log(menu_dish_label)
            
          // otherwise,
          } else {
            // populate "options.xAxis.categories" array with the years ("1851", "1852", "1853", etc.)
            options.xAxis.categories.push(items[0]);

            // populate "menu_dish_count" array
            menu_dish_count[0].push(parseFloat(items[1]));
            menu_dish_count[1].push(parseFloat(items[2]));
            console.log(menu_dish_count[0]);
          }

        });

        // "options.series" is an array & each item in the array is an object with 3 main keys: "name", "data", & "color"; in this example:
          // "name" = menu or dish label
          // "yAxis" = yAxis side
          // "data" = menu or dish value
          // "color" = bar segment color

        // use a for loop to populate "options.series"

        //for(var i = 0; i < menu_dish_count.length; i++) {
          // create a placeholder object & pull the required value for each key from "menu_dish_label" variable, "menu_dish_count" variable, & colors function
           var seriesData1 = {
              name: "",
              yAxis: "",
              data: [],
              color: ""
            }; 

            var seriesData2 = {
              name: "",
              yAxis: "",
              data: [],
              color: ""
            }; 

           seriesData1.name = menu_dish_label[0];
           seriesData1.yAxis = 1;
           seriesData1.data = menu_dish_count[0];
           seriesData1.color = "#1F77B4";

           seriesData2.name = menu_dish_label[1];
           seriesData2.yAxis = 0;
           seriesData2.data = menu_dish_count[1];
           seriesData2.color = "#2CA02C";
             
          // after the object is properly constructed, push it to "options.series" 
          options.series.push(seriesData1);
          options.series.push(seriesData2);
          //console.log(options.series); 
        

        // finally draw the chart by creating a new "Highcharts" object, which has settings that are defined in "options"
          var chart = new Highcharts.Chart(options);

      });

     </script>

		</div>
   </section><!--/#archive-->

	<section id="clustering">
      <div class="container">
         <div class="row">
           <div class="center">
             <div class="col-md-6 col-md-offset-3">
                 <h2>CLUSTERING BLAH</h2>
                 <hr>
                 <p class="lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut</p>
             </div>
           </div>
        </div>
     </div>
	</section>

	<section id="dishexplorer">
		<div class="container">
			<div class="center">
				<h2>DISH EXPLORER</h2>
			</div>
		</div><!--/.container-->
	</section>

	<footer id="footer" class="midnight-blue">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
					<div class="text-center">
						<a href="#home" class="scrollup"><i class="fa fa-angle-up fa-3x"></i></a>
					</div>
                    &copy; 2015 <a target="_blank" href="http://bootstraptaste.com/" title="Free Twitter Bootstrap WordPress Themes and HTML templates">bootstraptaste</a>. All Rights Reserved.
                </div>

                <div class="top-bar">
				</div>
			</div>
		</div>
    </footer><!--/#footer-->


	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="js/jquery.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.prettyPhoto.js"></script>
    <script src="js/jquery.isotope.min.js"></script>
	<script src="js/wow.min.js"></script>
	<script src="js/jquery.easing.min.js"></script>
	<script src="js/main.js"></script>
  </body>
</html>
